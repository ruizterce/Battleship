(()=>{"use strict";var __webpack_modules__={208:(e,n,t)=>{t.d(n,{A:()=>p});var r=t(354),o=t.n(r),a=t(314),i=t.n(a),c=t(417),s=t.n(c),l=new URL(t(672),t.b),A=i()(o()),d=s()(l);A.push([e.id,`@font-face {\n    font-family: 'Progress';\n    src: url(${d}) format('truetype');\n    font-weight: normal;\n    font-style: normal;\n}\n\nbody,\nhtml {\n    margin: 0;\n    padding: 0;\n    font-family: 'Progress', Tahoma, Geneva, Verdana, sans-serif;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n    background-color: var(--background-color);\n    color: var(--text-color);\n}\n\nbody {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    box-sizing: border-box;\n\n    --background-color: #1b1e22;\n    --text-color: #ffffff;\n    --primary-color: #00b4d8;\n    --hover-background-color: #00b4d8;\n    --hover-text-color: #1e1e1e;\n    --shadow-color: #000000;\n    --error-color: #fc6868;\n    --water-color: #0068c9;\n    --hit-color: #ff0000;\n    --spark-color: #ff3c00;\n    --smoke-color: #00000080;\n    --ship-color: #4e4e4e;\n    --miss-color: #00b7ff;\n    --crosshair-color: #00ff22;\n}\n\n.game-title {\n    font-size: 80px;\n    font-weight: 500;\n    letter-spacing: 2px;\n    color: #6b6a6a;\n    margin: 10px;\n    text-shadow: 0 -1px 0 #fff, 0 1px 0 #2e2e2e, 0 2px 0 #2c2c2c, 0 3px 0 #2a2a2a, 0 4px 0 #282828, 0 5px 0 #262626, 0 6px 0 #242424, 0 7px 0 #222, 0 8px 0 #202020, 0 9px 0 #1e1e1e, 0 10px 0 #1c1c1c, 0 11px 0 #1a1a1a, 0 12px 0 #181818, 0 13px 0 #161616, 0 14px 0 #141414, 0 15px 0 #121212, 0 22px 30px rgba(0, 0, 0, 0.9);\n}\n\n.game-container {\n    display: flex;\n    gap: 20px;\n    align-items: center;\n}\n\n.board-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 10px;\n}\n\nh2 {\n    margin-bottom: 20px;\n    font-size: 24px;\n    font-weight: 500;\n}\n\n.direction-btn {\n    padding: 10px 20px;\n    margin-bottom: 20px;\n    border: 2px solid var(--primary-color);\n    background: transparent;\n    color: var(--primary-color);\n    font-size: 16px;\n    cursor: pointer;\n    transition: background 0.3s, color 0.3s;\n}\n\n.direction-btn:hover {\n    background: var(--hover-background-color);\n    color: var(--hover-text-color);\n}\n\n.placing-board,\n.player-board,\n.enemy-board {\n    display: grid;\n    grid-template-columns: repeat(10, 40px);\n    grid-template-rows: repeat(10, 40px);\n    background-color: var(--water-color);\n}\n\n.placing-board,\n.player-board {\n    border: 4px solid var(--primary-color);\n}\n\n.enemy-board {\n    border: 4px solid var(--hit-color);\n}\n\n.placing-board button,\n.player-board button,\n.enemy-board button {\n    width: 40px;\n    height: 40px;\n    padding: 5px;\n    border: none;\n    box-shadow: 0 0 0 2px var(--text-color);\n    background-color: var(--background-color);\n    color: var(--text-color);\n    font-size: 18px;\n}\n\n.placing-board button:hover {\n    background: var(--hover-background-color);\n}\n\n.placing-board button.highlight {\n    background-color: var(--primary-color);\n}\n\n.placing-board button.highlight-error {\n    background-color: var(--error-color);\n}\n\nbutton.water {\n    background-color: var(--water-color);\n}\n\n.enemy-board button.water:hover {\n    background-color: inherit;\n    background: radial-gradient(circle, var(--crosshair-color) 0%, transparent 10%, var(--crosshair-color) 20%,\n            var(--water-color) 30%, var(--crosshair-color) 40%, var(--water-color) 50%);\n    cursor: crosshair;\n}\n\nbutton.hit {\n    background: var(--hit-color);\n    background: radial-gradient(circle, var(--hit-color) 0%, var(--spark-color) 50%, var(--ship-color) 100%);\n    cursor: not-allowed;\n}\n\nbutton.miss {\n    background-image: radial-gradient(circle at center center, #0084ff, #00b4d8), repeating-radial-gradient(circle at center center, #0068c9, #43a4ff, 2px, transparent 3px, transparent 6px);\n    background-blend-mode: multiply;\n    background-color: #00b4d8;\n    cursor: not-allowed;\n}\n\nbutton.ally-ship {\n    background-color: var(--ship-color);\n}\n\n.player-board button:hover {\n    cursor: not-allowed;\n}\n\n.fullscreen-transition {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #000;\n    opacity: 0;\n    transition: opacity 0.5s ease-in-out;\n    z-index: 1000;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.fullscreen-transition.visible {\n    opacity: 1;\n}\n\n.deploying-text {\n    color: white;\n    font-size: 24px;\n}\n\n.game-end-transition {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    transition: opacity 1s ease-in-out;\n    z-index: 1000;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n\n.game-end-transition.visible {\n    opacity: 1;\n}\n\n.game-end-text {\n    color: white;\n    font-size: 36px;\n    margin-bottom: 20px;\n}\n\n.game-end-button {\n    padding: 10px 20px;\n    font-size: 18px;\n    font-family: 'Progress';\n    cursor: pointer;\n}`,"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,uBAAuB;IACvB,+DAAkF;IAClF,mBAAmB;IACnB,kBAAkB;AACtB;;AAEA;;IAEI,SAAS;IACT,UAAU;IACV,4DAA4D;IAC5D,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,aAAa;IACb,yCAAyC;IACzC,wBAAwB;AAC5B;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,sBAAsB;;IAEtB,2BAA2B;IAC3B,qBAAqB;IACrB,wBAAwB;IACxB,iCAAiC;IACjC,2BAA2B;IAC3B,uBAAuB;IACvB,sBAAsB;IACtB,sBAAsB;IACtB,oBAAoB;IACpB,sBAAsB;IACtB,wBAAwB;IACxB,qBAAqB;IACrB,qBAAqB;IACrB,0BAA0B;AAC9B;;AAEA;IACI,eAAe;IACf,gBAAgB;IAChB,mBAAmB;IACnB,cAAc;IACd,YAAY;IACZ,4TAA4T;AAChU;;AAEA;IACI,aAAa;IACb,SAAS;IACT,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,SAAS;AACb;;AAEA;IACI,mBAAmB;IACnB,eAAe;IACf,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,mBAAmB;IACnB,sCAAsC;IACtC,uBAAuB;IACvB,2BAA2B;IAC3B,eAAe;IACf,eAAe;IACf,uCAAuC;AAC3C;;AAEA;IACI,yCAAyC;IACzC,8BAA8B;AAClC;;AAEA;;;IAGI,aAAa;IACb,uCAAuC;IACvC,oCAAoC;IACpC,oCAAoC;AACxC;;AAEA;;IAEI,sCAAsC;AAC1C;;AAEA;IACI,kCAAkC;AACtC;;AAEA;;;IAGI,WAAW;IACX,YAAY;IACZ,YAAY;IACZ,YAAY;IACZ,uCAAuC;IACvC,yCAAyC;IACzC,wBAAwB;IACxB,eAAe;AACnB;;AAEA;IACI,yCAAyC;AAC7C;;AAEA;IACI,sCAAsC;AAC1C;;AAEA;IACI,oCAAoC;AACxC;;AAEA;IACI,oCAAoC;AACxC;;AAEA;IACI,yBAAyB;IACzB;uFACmF;IACnF,iBAAiB;AACrB;;AAEA;IACI,4BAA4B;IAC5B,wGAAwG;IACxG,mBAAmB;AACvB;;AAEA;IACI,yLAAyL;IACzL,+BAA+B;IAC/B,yBAAyB;IACzB,mBAAmB;AACvB;;AAEA;IACI,mCAAmC;AACvC;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,eAAe;IACf,MAAM;IACN,OAAO;IACP,WAAW;IACX,YAAY;IACZ,sBAAsB;IACtB,UAAU;IACV,oCAAoC;IACpC,aAAa;IACb,aAAa;IACb,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,YAAY;IACZ,eAAe;AACnB;;AAEA;IACI,eAAe;IACf,MAAM;IACN,OAAO;IACP,WAAW;IACX,YAAY;IACZ,UAAU;IACV,kCAAkC;IAClC,aAAa;IACb,aAAa;IACb,sBAAsB;IACtB,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,YAAY;IACZ,eAAe;IACf,mBAAmB;AACvB;;AAEA;IACI,kBAAkB;IAClB,eAAe;IACf,uBAAuB;IACvB,eAAe;AACnB",sourcesContent:["@font-face {\n    font-family: 'Progress';\n    src: url('./fonts/progress-font/ProgressPersonalUse-EaJdz.ttf') format('truetype');\n    font-weight: normal;\n    font-style: normal;\n}\n\nbody,\nhtml {\n    margin: 0;\n    padding: 0;\n    font-family: 'Progress', Tahoma, Geneva, Verdana, sans-serif;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n    background-color: var(--background-color);\n    color: var(--text-color);\n}\n\nbody {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    box-sizing: border-box;\n\n    --background-color: #1b1e22;\n    --text-color: #ffffff;\n    --primary-color: #00b4d8;\n    --hover-background-color: #00b4d8;\n    --hover-text-color: #1e1e1e;\n    --shadow-color: #000000;\n    --error-color: #fc6868;\n    --water-color: #0068c9;\n    --hit-color: #ff0000;\n    --spark-color: #ff3c00;\n    --smoke-color: #00000080;\n    --ship-color: #4e4e4e;\n    --miss-color: #00b7ff;\n    --crosshair-color: #00ff22;\n}\n\n.game-title {\n    font-size: 80px;\n    font-weight: 500;\n    letter-spacing: 2px;\n    color: #6b6a6a;\n    margin: 10px;\n    text-shadow: 0 -1px 0 #fff, 0 1px 0 #2e2e2e, 0 2px 0 #2c2c2c, 0 3px 0 #2a2a2a, 0 4px 0 #282828, 0 5px 0 #262626, 0 6px 0 #242424, 0 7px 0 #222, 0 8px 0 #202020, 0 9px 0 #1e1e1e, 0 10px 0 #1c1c1c, 0 11px 0 #1a1a1a, 0 12px 0 #181818, 0 13px 0 #161616, 0 14px 0 #141414, 0 15px 0 #121212, 0 22px 30px rgba(0, 0, 0, 0.9);\n}\n\n.game-container {\n    display: flex;\n    gap: 20px;\n    align-items: center;\n}\n\n.board-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 10px;\n}\n\nh2 {\n    margin-bottom: 20px;\n    font-size: 24px;\n    font-weight: 500;\n}\n\n.direction-btn {\n    padding: 10px 20px;\n    margin-bottom: 20px;\n    border: 2px solid var(--primary-color);\n    background: transparent;\n    color: var(--primary-color);\n    font-size: 16px;\n    cursor: pointer;\n    transition: background 0.3s, color 0.3s;\n}\n\n.direction-btn:hover {\n    background: var(--hover-background-color);\n    color: var(--hover-text-color);\n}\n\n.placing-board,\n.player-board,\n.enemy-board {\n    display: grid;\n    grid-template-columns: repeat(10, 40px);\n    grid-template-rows: repeat(10, 40px);\n    background-color: var(--water-color);\n}\n\n.placing-board,\n.player-board {\n    border: 4px solid var(--primary-color);\n}\n\n.enemy-board {\n    border: 4px solid var(--hit-color);\n}\n\n.placing-board button,\n.player-board button,\n.enemy-board button {\n    width: 40px;\n    height: 40px;\n    padding: 5px;\n    border: none;\n    box-shadow: 0 0 0 2px var(--text-color);\n    background-color: var(--background-color);\n    color: var(--text-color);\n    font-size: 18px;\n}\n\n.placing-board button:hover {\n    background: var(--hover-background-color);\n}\n\n.placing-board button.highlight {\n    background-color: var(--primary-color);\n}\n\n.placing-board button.highlight-error {\n    background-color: var(--error-color);\n}\n\nbutton.water {\n    background-color: var(--water-color);\n}\n\n.enemy-board button.water:hover {\n    background-color: inherit;\n    background: radial-gradient(circle, var(--crosshair-color) 0%, transparent 10%, var(--crosshair-color) 20%,\n            var(--water-color) 30%, var(--crosshair-color) 40%, var(--water-color) 50%);\n    cursor: crosshair;\n}\n\nbutton.hit {\n    background: var(--hit-color);\n    background: radial-gradient(circle, var(--hit-color) 0%, var(--spark-color) 50%, var(--ship-color) 100%);\n    cursor: not-allowed;\n}\n\nbutton.miss {\n    background-image: radial-gradient(circle at center center, #0084ff, #00b4d8), repeating-radial-gradient(circle at center center, #0068c9, #43a4ff, 2px, transparent 3px, transparent 6px);\n    background-blend-mode: multiply;\n    background-color: #00b4d8;\n    cursor: not-allowed;\n}\n\nbutton.ally-ship {\n    background-color: var(--ship-color);\n}\n\n.player-board button:hover {\n    cursor: not-allowed;\n}\n\n.fullscreen-transition {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #000;\n    opacity: 0;\n    transition: opacity 0.5s ease-in-out;\n    z-index: 1000;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.fullscreen-transition.visible {\n    opacity: 1;\n}\n\n.deploying-text {\n    color: white;\n    font-size: 24px;\n}\n\n.game-end-transition {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    transition: opacity 1s ease-in-out;\n    z-index: 1000;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n\n.game-end-transition.visible {\n    opacity: 1;\n}\n\n.game-end-text {\n    color: white;\n    font-size: 36px;\n    margin-bottom: 20px;\n}\n\n.game-end-button {\n    padding: 10px 20px;\n    font-size: 18px;\n    font-family: 'Progress';\n    cursor: pointer;\n}"],sourceRoot:""}]);const p=A},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<e.length;l++){var A=[].concat(e[l]);r&&i[A[0]]||(void 0!==a&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=a),t&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=t):A[2]=t),o&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=o):A[4]="".concat(o)),n.push(A))}},n}},417:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},354:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[n].concat([a]).join("\n")}return[n].join("\n")}},511:(e,n,t)=>{var r=t(72),o=t.n(r),a=t(825),i=t.n(a),c=t(659),s=t.n(c),l=t(56),A=t.n(l),d=t(540),p=t.n(d),u=t(113),h=t.n(u),b=t(208),m={};m.styleTagTransform=h(),m.setAttributes=A(),m.insert=s().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(b.A,m),b.A&&b.A.locals&&b.A.locals},72:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],l=r.base?s[0]+r.base:s[0],A=a[l]||0,d="".concat(l," ").concat(A);a[l]=A+1;var p=t(d),u={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)n[p].references++,n[p].updater(u);else{var h=o(u,r);r.byIndex=c,n.splice(c,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=t(a[i]);n[c].references--}for(var s=r(e,o),l=0;l<a.length;l++){var A=t(a[l]);0===n[A].references&&(n[A].updater(),n.splice(A,1))}a=s}}},659:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},672:(e,n,t)=>{e.exports=t.p+"93e9d2c9e1e0c7b13803.ttf"},383:(e,n,t)=>{t.d(n,{A:()=>i});class r{constructor(e){if(!Number.isInteger(e)||e<=0)throw new Error("Length must be a positive integer");this.length=e,this.sunk=!1,this.hitCounter=0}hit(){this.hitCounter+=1,this.hitCounter>=this.length&&(this.sunk=!0)}isSunk(){return this.sunk}}class o{constructor(){this.ships=[],this.pointers=[],this.missedAttacks=[]}place(e,n,t,o){if(!this.isValidPlace(e,n,t,o))return!1;let i=new r(t);this.ships.push(i);for(let r=0;r<t;r++)this.pointers.push(new a("H"===o?e+r:e,"V"===o?n+r:n,i));return!0}isValidPlace(e,n,t,r){let o;for(let a=0;a<t;a++)if("H"===r){let t=e+a,r=n;if(o=this.containsPointer(t,r),null!=o||t>9)return!1}else if("V"===r){let t=e,r=n+a;if(o=this.containsPointer(t,r),null!=o||r>9)return!1}return!0}receiveAttack(e,n){if(e<0||e>9||n<0||n>9)return!1;const t=this.containsPointer(e,n);return null!=t?!t.shot&&(t.hit(),"hit"):!this.containsMissedAttack(e,n)&&(this.missedAttacks.push([e,n]),"miss")}containsPointer(e,n){return this.pointers.find((t=>t.x===e&&t.y===n))}containsMissedAttack(e,n){return this.missedAttacks.find((t=>t[0]===e&&t[1]===n))}checkAllSunk(){return this.ships.every((e=>e.isSunk()))}}class a{constructor(e,n,t){this.x=e,this.y=n,this.parent=t,this.shot=!1}hit(){this.shot=!0,this.parent.hit()}}class i{constructor(e){this.isCpu=e,this.name=this.isCpu?"Computer":"Player",this.gameboard=new o,this.ships=[5,4,3,3,2],this.successfulHits=[]}}},99:(e,n,t)=>{t.d(n,{A:()=>r});class r{renderBoard(e,n,t=null,r=!1){const o=document.querySelector(".direction-btn")||null,a=o?o.dataset.direction:"H";e.innerHTML="";const i=(e,n=!1)=>{const t=document.createElement("div");t.classList.add("board-container");const o=document.createElement("h2");if(o.textContent=r?"Place your ships":n?"Enemy waters":"Ally waters",t.appendChild(o),r){const c=document.createElement("button");function s(){"Horizontal"===c.textContent?(c.textContent="Vertical",c.dataset.direction="V"):(c.textContent="Horizontal",c.dataset.direction="H")}c.classList.add("direction-btn"),c.textContent="H"===a?"Horizontal":"Vertical",c.dataset.direction=a,c.addEventListener("click",s),t.appendChild(c)}const i=document.createElement("div");i.classList.add(r?"placing-board":n?"enemy-board":"player-board");for(let l=0;l<10;l++){const A=document.createElement("div");for(let d=0;d<10;d++){const p=document.createElement("button");p.dataset.coordinates=`${l},${d}`;const u=e.containsPointer(l,d);u?u.shot?p.classList.add("hit"):n?p.classList.add("water"):p.classList.add("ally-ship"):e.containsMissedAttack(l,d)?p.classList.add("miss"):p.classList.add("water"),A.appendChild(p)}i.appendChild(A)}return t.appendChild(i),t},c=i(n.gameboard);if(e.appendChild(c),!r&&t){const n=document.createElement("div");n.style.height="20px",e.appendChild(n);const r=i(t.gameboard,!0);e.appendChild(r)}}attackListener(e){const n=document.querySelector(".enemy-board");return new Promise((t=>{const r=o=>{if(!o.target.dataset.coordinates)return!1;const[a,i]=o.target.dataset.coordinates.split(",").map(Number);let c=e.gameboard.receiveAttack(a,i);n.removeEventListener("click",r),t(c)};n.addEventListener("click",r)}))}renderPlacingBoard(e,n){this.renderBoard(e,n,null,!0);const t=n.ships[n.ships.length-1];this.addHoverEffect(n,t),console.log(n),console.log(t)}placeListener(e,n){const t=document.querySelector(".placing-board");return new Promise((r=>{const o=a=>{if(!a.target.dataset.coordinates)return!1;const[i,c]=a.target.dataset.coordinates.split(",").map(Number),s=document.querySelector(".direction-btn").dataset.direction;let l=e.gameboard.place(i,c,n,s);t.removeEventListener("click",o),r(l)};t.addEventListener("click",o)}))}addHoverEffect(e,n){document.querySelector(".placing-board").querySelectorAll("button").forEach((t=>{t.addEventListener("mouseenter",(t=>{const[r,o]=t.target.dataset.coordinates.split(",").map(Number),a=document.querySelector(".direction-btn").dataset.direction;this.highlightAdjacentButtons(e,r,o,n,a)})),t.addEventListener("mouseleave",(()=>{this.removeHighlight()}))}))}highlightAdjacentButtons(e,n,t,r,o){for(let a=0;a<r;a++){let i,c=n,s=t;if("H"===o?c+=a:s+=a,i=e.gameboard.isValidPlace(n,t,r,o)?"highlight":"highlight-error",c<=9&&s<=9){const e=document.querySelector(`button[data-coordinates="${c},${s}"]`);e&&e.classList.add(i)}}}removeHighlight(){document.querySelectorAll(".highlight").forEach((e=>{e.classList.remove("highlight")})),document.querySelectorAll(".highlight-error").forEach((e=>{e.classList.remove("highlight-error")}))}fadeIn(e){return new Promise((n=>{const t=document.createElement("div");t.className="fullscreen-transition";const r=document.createElement("div");r.textContent="Deploying Fleet",r.className="deploying-text",t.appendChild(r),e.appendChild(t),t.offsetHeight,t.classList.add("visible"),setTimeout(n,1e3)}))}fadeOut(e){return new Promise((n=>{const t=e.querySelector(".fullscreen-transition");t.classList.remove("visible"),setTimeout((()=>{e.removeChild(t),n()}),1e3)}))}gameEndTransition(e,n){const t=document.createElement("div");t.className="game-end-transition";const r=document.createElement("div");r.className="game-end-text",n.isCpu?(r.textContent="You were defeated",t.style.backgroundColor="rgb(255, 0, 0, .8)"):(r.textContent="You won the battle",t.style.backgroundColor="rgb(0, 255, 0, .8)"),t.appendChild(r);const o=document.createElement("button");o.textContent="Restart",o.className="game-end-button",o.addEventListener("click",(()=>{location.reload()})),t.appendChild(o),e.appendChild(t),t.offsetHeight,t.classList.add("visible")}}},393:(__webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__)=>{__webpack_require__.a(__webpack_module__,(async(__webpack_handle_async_dependencies__,__webpack_async_result__)=>{try{var _style_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(511),_controllers_DOMController_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(99),_classes_Player_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(383);const ui=new _controllers_DOMController_mjs__WEBPACK_IMPORTED_MODULE_1__.A,gameContainer=document.querySelector(".game-container"),p1=new _classes_Player_mjs__WEBPACK_IMPORTED_MODULE_2__.A(!1),p2=new _classes_Player_mjs__WEBPACK_IMPORTED_MODULE_2__.A(!0);let winner;async function placeShips(){let e;do{e=e===p1?p2:p1;do{if(!1===e.isCpu){let n;ui.renderPlacingBoard(gameContainer,e);do{n=await ui.placeListener(e,e.ships[e.ships.length-1])}while(!n);e.ships.pop()}else n()}while(e.ships.length>0);console.log(p1.ships.length,p2.ships.length)}while(p1.ships.length>0||p2.ships.length>0);function n(){let n,t,r;do{n=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());const o=Math.random()>.5?"V":"H";console.log("Placing "+n+", "+t),r=e.gameboard.place(n,t,e.ships[e.ships.length-1],o)}while(!r);e.ships.pop()}}async function gameLoop(){let gameEnded=!1,activePlayer;do{activePlayer=activePlayer===p1?p2:p1;let e=activePlayer===p1?p2:p1;if(console.log(activePlayer),activePlayer.isCpu)cpuAttacks(e);else{let n;ui.renderBoard(gameContainer,activePlayer,e);do{n=await ui.attackListener(e)}while(!n)}e.gameboard.checkAllSunk()&&(gameEnded=!0,winner=activePlayer,ui.renderBoard(gameContainer,p1,p2),ui.gameEndTransition(gameContainer,winner))}while(!gameEnded);function cpuAttacks(enemyPlayer){let attackX,attackY,validShot;do{let attackAdjacent=0;if(activePlayer.successfulHits.length>0&&(attackAdjacent=Math.random()),attackAdjacent>.2){const selectedHit=activePlayer.successfulHits[Math.floor(Math.random()*activePlayer.successfulHits.length)];console.log("Selected hit "+selectedHit),console.log(selectedHit[0]),console.log(selectedHit[1]),Math.random()<.5?(attackX=eval(selectedHit[0]+(Math.random()<.5?1:-1)),attackY=selectedHit[1]):(attackX=selectedHit[0],attackY=eval(selectedHit[1]+(Math.random()<.5?1:-1)))}else attackX=Math.floor(10*Math.random()),attackY=Math.floor(10*Math.random());console.log("Shooting "+attackX+", "+attackY),validShot=enemyPlayer.gameboard.receiveAttack(attackX,attackY)}while(!validShot);"hit"===validShot&&activePlayer.successfulHits.push([attackX,attackY])}console.log(activePlayer.name,"WINS!")}await placeShips(),await ui.fadeIn(document.querySelector("body")),gameLoop(),await ui.fadeOut(document.querySelector("body")),__webpack_async_result__()}catch(e){__webpack_async_result__(e)}}),1)}},__webpack_module_cache__={},webpackQueues,webpackExports,webpackError,resolveQueue;function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.m=__webpack_modules__,webpackQueues="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",webpackExports="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",webpackError="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",resolveQueue=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},__webpack_require__.a=(e,n,t)=>{var r;t&&((r=[]).d=-1);var o,a,i,c=new Set,s=e.exports,l=new Promise(((e,n)=>{i=n,a=e}));l[webpackExports]=s,l[webpackQueues]=e=>(r&&e(r),c.forEach(e),l.catch((e=>{}))),e.exports=l,n((e=>{var n;o=(e=>e.map((e=>{if(null!==e&&"object"==typeof e){if(e[webpackQueues])return e;if(e.then){var n=[];n.d=0,e.then((e=>{t[webpackExports]=e,resolveQueue(n)}),(e=>{t[webpackError]=e,resolveQueue(n)}));var t={};return t[webpackQueues]=e=>e(n),t}}var r={};return r[webpackQueues]=e=>{},r[webpackExports]=e,r})))(e);var t=()=>o.map((e=>{if(e[webpackError])throw e[webpackError];return e[webpackExports]})),a=new Promise((e=>{(n=()=>e(t)).r=0;var a=e=>e!==r&&!c.has(e)&&(c.add(e),e&&!e.d&&(n.r++,e.push(n)));o.map((e=>e[webpackQueues](a)))}));return n.r?a:t()}),(e=>(e?i(l[webpackError]=e):a(s),resolveQueue(r)))),r&&r.d<0&&(r.d=0)},__webpack_require__.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var n=__webpack_require__.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");if(t.length)for(var r=t.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=t[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),__webpack_require__.b=document.baseURI||self.location.href,__webpack_require__.nc=void 0;var __webpack_exports__=__webpack_require__(393)})();
//# sourceMappingURL=main.js.map